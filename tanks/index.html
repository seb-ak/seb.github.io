<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>tanks</title>
    <link rel="icon" href="/icon.png" type="image/png">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mdbassit/Coloris@latest/dist/coloris.min.css"/>
    <script src="https://cdn.jsdelivr.net/gh/mdbassit/Coloris@latest/dist/coloris.min.js"></script>

    <style>
        .Particle {
            position: absolute;
            width: 5vmin;
            height: 5vmin;
            transform: translate(-50vmin, -50vmin);
            z-index: 10;
            background-size: cover;
        }
        .Particle#smoke1 {
            background-image: url("textures/smoke1.png");
            opacity: 0.8;
        }
        .Particle#smoke2 {
            width: 9vmin; height: 9vmin;
            background-image: url("textures/smoke2.png");
            opacity: 0.8;
        }
        .Particle#explode1 {
            width: 6vmin; height: 6vmin;
            z-index: 2;
            background-image: url("textures/explode1.png");
            opacity: 0.8;
        }
        .Particle#tracks {
            width: 5vmin; height: 5vmin;
            z-index: 2;
            background-image: url("textures/tracks1.png");
            opacity: 0.4;
        }




        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #000;
            pointer-events: auto;
            overflow: hidden;
        }

        #window {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vmin;
            height: 100vmin;
            background-color: #111;
            overflow: hidden;
        }

        #screen {
            position: absolute;
            top: 0vmin;
            left: 0vmin;
            width: 1000vmin;
            height: 1000vmin;
            background-image: url("textures/floor1.png");
            background-repeat: repeat;
        }

        .Wall {
            position: absolute;
            width: 5.3vmin;
            height: 5.5vmin;
            z-index: 2;
            background-color: #422c07e7;
        }

        .Wall::before {
            content: '';
            position: absolute;
            width: 5vmin;
            height: 5vmin;
            z-index: 3;
            background-size: cover;
            background-color: #3d2808;
        }

        .Wall#wall1::before {background-image: url("textures/box1.png");}
        .Wall#wall2::before {background-image: url("textures/box2.png");}
        .Wall#wall3::before {background-image: url("textures/box3.png");}
        .Wall#wall4::before {background-image: url("textures/box4.png");}
        .Wall#wall5::before {background-image: url("textures/box5.png");}

        .Wall#hole::before {
            background-image: url("textures/hole1.png");
            background-color: transparent;
        }
        .Wall#hole {
            width: 5vmin; height: 5vmin;
            z-index: 1;
            background: #000;
            background: radial-gradient(circle, #2e1302 2vmin, transparent 2vmin);
        }

        .Tank {
            position: absolute;
            width: 5vmin;
            height: 5vmin;
            
            border: #333 solid .5vmin;
            border-radius: 1vmin;
            background-color: blue;
            z-index: 5;
        }

        .Turret {
            position: absolute;
            width: 6vmin;
            height: 1vmin;
            top: 1.5vmin;
            left: 1vmin;
            
            border: #333 solid .5vmin;
            border-radius: 1vmin;
            background-color: blue;
            z-index: 8;
        }

        .nameTag {
            font-family: 'Courier New', Courier, monospace;
            position: absolute;
            display: flex;
            flex-direction: column;
            width: 0;
            height: 0;
            text-align: center;
            align-content: center;
            align-items: center;
            font-size: 2vmin;
            color: #000;
            font-weight: bold;
            z-index: 100;
            overflow: visible;
            opacity: 0.8;
            text-wrap-mode: nowrap;
        }

        .progressBar {
            width: 8vmin;
            height: 1vmin;
            z-index: 100;
            opacity: 0.8;
            background-color: black;
        }

        .progressBar::after {
            content: '';
            width: 8vmin;
            height: 1vmin;
            background-color: red;
        }

        .Projectile {
            position: absolute;
            width: 2vmin;
            height: 1.5vmin;
            
            border-radius: 0 1vmin 1vmin 0;
            background-color: blue;
            z-index: 7;
            border: #333 0.3vmin solid;
        }

        .Mine {
            position: absolute;
            width: 5vmin;
            height: 5vmin;
            
            border-radius: 500vmin;
            background-color: blue;
            z-index: 4;
            border: #333 0.3vmin solid;
        }

        .button {
            position: absolute;
            width: 28vmin;
            height: 18vmin;
            opacity: 0.3;
            border: none;
            background-color: #555;
            font-size: 10vmin;
            border: #fff solid 1vmin;
            color: #fff;
            text-align: center;
            align-content: center;
            /* Prevent mobile text selection / touch-callout / gestures */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: none;
        }

        #forward {top: 105vmin;left: 0vmin; height:38vmin}
        #backward {top: 145vmin;left: 0vmin; height:38vmin}

        #left {top: 130vmin;left: 35vmin; height:38vmin}
        #right {top: 130vmin;left: 65vmin; height:38vmin}

        #primary {top: 105vmin;left: 65vmin; font-size: 6vmin;}
        #secondary {top: 105vmin;left: 35vmin; font-size: 6vmin;}

        #a {top: 105vmin; left: 2.5vmin; height: 28vmin; color: #fff; font-size: 6vmin;}
        #b {top: 105vmin; left: 35vmin; height: 28vmin; color: #fff; font-size: 6vmin;}
        #c {top: 105vmin; left: 67.5vmin; height: 28vmin; color: #fff; font-size: 6vmin;}

        @media (orientation: landscape) {
            #forward {top: 05vmin;left: 100vmin;}
            #backward {top: 45vmin;left: 100vmin;}

            #left {top: 30vmin;left: 135vmin;}
            #right {top: 30vmin;left: 165vmin;}

            #primary {top: 05vmin;left: 165vmin;}
            #secondary {top: 05vmin;left: 135vmin;}

            #a {top: 05vmin; left: 102.5vmin;}
            #b {top: 05vmin; left: 135vmin;}
            #c {top: 05vmin; left: 167.5vmin;}

            #text {
                top: 0;
                left: 100vmin;
            }
        }

        #text {
            position: absolute;
            width: 100vw;
            height: 100vh;
            top: 100vmin;
            left: 0;
            background-color: #000;
            color: #ccc;
            font-size: 5vmin;
            font-family: 'Courier New', Courier, monospace;
            visibility: hidden;
        }

        #menuContainer {
            position: absolute;
            visibility: visible;
            background: #444;
            width: 100vw;
            height: 100vh;
            top: 0;
            left: 0;
            z-index: 49;
        }

        #menu {
            position: absolute;
            background: #444;
            visibility: visible;
            width: 100vmin;
            top: 0;
            left: 0;
            align-items: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            color: #ddd;
            z-index: 50;
        }

        #error {
            /* position: absolute; */
            visibility: visible;
            width: 100vmin;
            top: 40vh;
            left: 0;
            z-index: 50;
            color: #eee;
            text-align: center;
        }

        #side {
            display: flex;
            flex-direction: column;
            border: #555 solid 1vmin;
            border-radius: 2vmin;
            padding: 5vmin;
        }

        #topText {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vmin;
            height: fit-content;
            z-index: 9999;
            font-family: 'Courier New', Courier, monospace;
            font-size: 7vmin;
            color: black;
            opacity: 0.8;
            white-space: pre-wrap; /* preserve newlines */
        }

        #joinForm input, #joinForm #joinButton, #copyLink {
            position: inherit;
            pointer-events: auto;
            width: 30vmin;
            padding: 1.2vmin 1.6vmin;
            margin: 1vmin 0;
            font-size: 4vmin;
            border-radius: 0.6vmin;
            border: none;
            box-sizing: border-box;
            font-family: 'Courier New', Courier, monospace;
        }

        #joinForm input {
            background: #222;
            color: #eee;
            outline: none;
        }

        #joinForm #joinButton, #copyLink {
            background: #6a6a6a;
            color: #fff;
            cursor: pointer;
            opacity: 1;
            width: auto;
            height: 7vmin;
            margin-top: 5vmin;
        }

        #joinForm #joinButton:hover, #copyLink {
            background: #808080;
        }

        #joinForm {
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 10vmin;
        }

        #ws {width: 50vmin;}
    

        #colour {
            position: relative;
            width: 10vmin;
            height: 8vmin;
            padding: 0.5vmin 2.5vmin 0.5vmin 0.5vmin; /* leave space for button */
            box-sizing: border-box;
            z-index: 100;
        }

        .clr-field button {
            width: 8vmin;
            height: 8vmin;
            border-radius: 0.6vmin;
            outline: transparent solid 0;
            z-index: 101;

            /* Also disable selection/highlight on color picker button */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: none;
        }


        /* Disable text selection everywhere */
        body, * {
            -webkit-user-select: none !important; /* Safari/iOS */
            -moz-user-select: none !important;    /* Firefox */
            -ms-user-select: none !important;     /* IE10+/Edge */
            user-select: none !important;         /* Standard */
        }

        /* Allow text selection in form fields */
        input, textarea, select {
            -webkit-user-select: text !important;
            -moz-user-select: text !important;
            -ms-user-select: text !important;
            user-select: text !important;
        }


        #settingsContainer {
            visibility: hidden;
            position: absolute;
            top: 5vh;
            left: 5vmin;
            width: 90vmin;
            height: 90vh;
            background-color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 1000;
        }

        #settingsText {
            width: 80vmin;
            height: 90vh;
            white-space: pre-wrap; /* preserve newlines */
            font-family: 'Courier New', Courier, monospace;
            background: #222;
            color: #eee;
            padding: 1vmin;
            box-sizing: border-box;
            overflow: auto;
        }

        #settingsControls {
            width: 80vmin;
            display: flex;
            gap: 1vmin;
            margin-top: 1vmin;
            justify-content: flex-end;
        }

        .smallButton {
            background: #6a6a6a;
            color: #fff;
            border: none;
            padding: 1vmin 2vmin;
            font-size: 3vmin;
            border-radius: 0.6vmin;
            cursor: pointer;
        }

        .smallButton:hover { background: #808080; }

        #settings {
            width: 80vmin;
        }


    </style>

</head>

<body>

    <div id="window">
        <div id="screen">
            <div id="wallContainer"></div>
        </div>
    </div>

    <div id="controlls">

        <div id="game">
            <div class="button" id="forward">&#9650;</div>
            <div class="button" id="backward">&#9660;</div>
            
            <div class="button" id="left">&#9664;</div>
            <div class="button" id="right">&#9654;</div>
        
            <!-- <div class="button" id="primary">&#128165;</div>
            <div class="button" id="secondary">&#128163;</div> -->
            <div class="button" id="primary">Fire</div>
            <div class="button" id="secondary">Landmine</div>
        </div>

        <div id="lobby">
            <div class="button" id="a"></div>
            <div class="button" id="b"></div>
            <div class="button" id="c"></div>
        </div>

        <div id="text"></div>

        <div id="topText"></div>
    </div>

    <div id="menuContainer">
    <div id="menu">
        <h1>Tanks</h1>
        by seb-ak

        <form id="joinForm">
            <div id="side">
                name
                <input type="text" name="name" id="name" placeholder="Your Name" required>
                colour
                <input type="text" data-coloris id="colour" required>
            
                <button class="button" type="submit" id="joinButton">Join</button>
            </div>
        </form>
        <div id="error"></div>

    </div>
    </div>

    <div id="settingsContainer">
        <div id="settings">

        </div>
        <div id="settingsControls">
            <input type="file" id="settingsFile" accept=".json" style="display:none">
            <button id="settingsLoad" class="smallButton">Load</button>
            <button id="settingsSave" class="smallButton">Save</button>
            <button id="settingsApply" class="smallButton">Apply</button>
            <button id="settingsCancel" class="smallButton">Cancel</button>
        </div>
        <pre id="settingsText" contenteditable="true" spellcheck="false"></pre>
    </div>

    <script src="index.js"></script>
</body>

</html>
