<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>tanks</title>
    <link rel="icon" href="/icon.png" type="image/png">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mdbassit/Coloris@latest/dist/coloris.min.css"/>
    <script src="https://cdn.jsdelivr.net/gh/mdbassit/Coloris@latest/dist/coloris.min.js"></script>

    <style>
        .Particle {
            position: absolute;
            width: 5vw;
            height: 5vw;
            transform: translate(-2.5vw, -2.5vw);
            z-index: 10;
            background-size: cover;
        }
        .Particle#smoke1 {
            background-image: url("textures/smoke1.png");
        }
        .Particle#smoke2 {
            background-image: url("textures/smoke2.png");
        }
        .Particle#explosion1 {
            width: 10vw; height: 10vw;
            transform: translate(-2.5vw, -2.5vw);
            z-index: 2;
            background-image: url("textures/explosion1.png");
        }




        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #000;
            pointer-events: auto;
            overflow: hidden;
        }

        #window {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vw;
            background-color: #111;
            overflow: hidden;
        }

        #screen {
            position: absolute;
            top: 0vw;
            left: 0vw;
            width: 1000vw;
            height: 1000vw;
            background-image: url("textures/floor1.png");
            background-repeat: repeat;
        }

        .Wall {
            position: absolute;
            width: 5.3vw;
            height: 5.5vw;
            z-index: 2;
            background-color: #422c07e7;
        }

        .Wall::before {
            content: '';
            position: absolute;
            width: 5vw;
            height: 5vw;
            z-index: 3;
            background-size: cover;
            background-color: #3d2808;
        }

        .Wall#wall1::before {background-image: url("textures/box1.png");}
        .Wall#wall2::before {background-image: url("textures/box2.png");}
        .Wall#wall3::before {background-image: url("textures/box3.png");}
        .Wall#wall4::before {background-image: url("textures/box4.png");}
        .Wall#wall5::before {background-image: url("textures/box5.png");}

        .Wall#hole::before {
            background-image: url("textures/hole1.png");
            /* transform: translate(-.5vw, -.5vw); */
            background-color: transparent;
        }
        .Wall#hole {
            width: 5vw; height: 5vw;
            z-index: 1;
            /* transform: translate(.5vw, .5vw); */
            background: #000;
            background: radial-gradient(circle, #2e1302 2vw, transparent 2vw);
        }

        .Tank {
            position: absolute;
            width: 5vw;
            height: 5vw;
            
            border: #333 solid .5vw;
            border-radius: 1vw;
            background-color: blue;
            z-index: 5;
        }

        .Turret {
            position: absolute;
            width: 6vw;
            height: 1vw;
            top: 1.5vw;
            left: 1vw;
            
            border: #333 solid .5vw;
            border-radius: 1vw;
            background-color: blue;
            z-index: 8;
        }

        .nameTag {
            font-family: 'Courier New', Courier, monospace;
            position: absolute;
            display: flex;
            flex-direction: column;
            width: 0;
            height: 0;
            text-align: center;
            align-content: center;
            align-items: center;
            font-size: 2vw;
            color: #000;
            font-weight: bold;
            z-index: 100;
            overflow: visible;
            opacity: 0.8;
            text-wrap-mode: nowrap;
        }

        .progressBar {
            width: 8vw;
            height: 1vw;
            z-index: 100;
            opacity: 0.8;
            background-color: black;
        }

        .progressBar::after {
            content: '';
            width: 8vw;
            height: 1vw;
            background-color: red;
        }

        .Projectile {
            position: absolute;
            width: 2vw;
            height: 1.5vw;
            
            border-radius: 0 1vw 1vw 0;
            background-color: blue;
            z-index: 7;
            border: #333 0.3vw solid;
        }

        .Mine {
            position: absolute;
            width: 5vw;
            height: 5vw;
            
            border-radius: 500%;
            background-color: blue;
            z-index: 4;
            border: #333 0.3vw solid;
        }

        .button {
            position: absolute;
            width: 28vw;
            height: 18vw;
            opacity: 0.3;
            border: none;
            background-color: #555;
            font-size: 10vw;
            border: #fff solid 1vw;
            color: #fff;
            text-align: center;
            align-content: center;
            /* Prevent mobile text selection / touch-callout / gestures */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: none;
        }

        #forward {top: 105vw;left: 0vw; height:38vw}
        #backward {top: 145vw;left: 0vw; height:38vw}

        #left {top: 130vw;left: 35vw; height:38vw}
        #right {top: 130vw;left: 65vw; height:38vw}

        #primary {top: 105vw;left: 65vw;}
        #secondary {top: 105vw;left: 35vw;}


        #a {top: 105vw; left: 2.5vw; height: 28vw; color: #fff; font-size: 6vw;}
        #b {top: 105vw; left: 35vw; height: 28vw; color: #fff; font-size: 6vw;}
        #c {top: 105vw; left: 67.5vw; height: 28vw; color: #fff; font-size: 6vw;}

        #text {
            position: absolute;
            width: 100vw;
            height: 100vh;
            top: 100vw;
            left: 0;
            background-color: #000;
            color: #ccc;
            font-size: 5vw;
            font-family: 'Courier New', Courier, monospace;
            visibility: hidden;
        }

        #menuContainer {
            position: absolute;
            visibility: visible;
            background: #444;
            width: 100vw;
            height: 100vh;
            top: 0;
            left: 0;
            z-index: 49;
        }

        #menu {
            position: absolute;
            background: #444;
            visibility: visible;
            width: 100vw;
            top: 0;
            left: 0;
            align-items: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            color: #ddd;
            z-index: 50;
        }

        #error {
            position: absolute;
            visibility: visible;
            width: 100vw;
            top: 40vh;
            left: 0;
            z-index: 50;
            color: #eee;
            text-align: center;
        }

        #side {
            display: flex;
            flex-direction: column;
            border: #555 solid 1vw;
            border-radius: 2vw;
            padding: 5vw;
        }

        #topText {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: fit-content;
            z-index: 9999;
            font-family: 'Courier New', Courier, monospace;
            font-size: 7vw;
            color: black;
            opacity: 0.8;
            white-space: pre-wrap; /* preserve newlines */
        }

        #joinForm input, #joinForm #joinButton, #copyLink {
            position: inherit;
            pointer-events: auto;
            width: 30vw;
            padding: 1.2vw 1.6vw;
            margin: 1vw 0;
            font-size: 4vw;
            border-radius: 0.6vw;
            border: none;
            box-sizing: border-box;
            font-family: 'Courier New', Courier, monospace;
        }

        #joinForm input {
            background: #222;
            color: #eee;
            outline: none;
        }

        #joinForm #joinButton, #copyLink {
            background: #6a6a6a;
            color: #fff;
            cursor: pointer;
            opacity: 1;
            width: auto;
            height: 7vw;
            margin-top: 5vw;
        }

        #joinForm #joinButton:hover, #copyLink {
            background: #808080;
        }

        #joinForm {
            display: flex;
            flex-direction: row;
            align-items: center;
            padding: 10vw;
        }

        #ws {width: 50vw;}
    

        #colour {
            position: relative;
            width: 10vw;
            height: 8vw;
            padding: 0.5vw 2.5vw 0.5vw 0.5vw; /* leave space for button */
            box-sizing: border-box;
            z-index: 100;
        }

        .clr-field button {
            width: 8vw;
            height: 8vw;
            border-radius: 0.6vw;
            outline: transparent solid 0;
            z-index: 101;

            /* Also disable selection/highlight on color picker button */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: none;
        }


        /* Disable text selection everywhere */
        body, * {
            -webkit-user-select: none !important; /* Safari/iOS */
            -moz-user-select: none !important;    /* Firefox */
            -ms-user-select: none !important;     /* IE10+/Edge */
            user-select: none !important;         /* Standard */
        }

        /* Allow text selection in form fields */
        input, textarea, select {
            -webkit-user-select: text !important;
            -moz-user-select: text !important;
            -ms-user-select: text !important;
            user-select: text !important;
        }


        #settingsContainer {
            visibility: hidden;
            position: absolute;
            top: 5vh;
            left: 5vw;
            width: 90vw;
            height: 90vh;
            background-color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 1000;
        }

        #settingsText {
            width: 80vw;
            height: 90vh;
            white-space: pre-wrap; /* preserve newlines */
            font-family: 'Courier New', Courier, monospace;
            background: #222;
            color: #eee;
            padding: 1vw;
            box-sizing: border-box;
            overflow: auto;
        }

        #settingsControls {
            width: 80vw;
            display: flex;
            gap: 1vw;
            margin-top: 1vw;
            justify-content: flex-end;
        }

        .smallButton {
            background: #6a6a6a;
            color: #fff;
            border: none;
            padding: 1vw 2vw;
            font-size: 3vw;
            border-radius: 0.6vw;
            cursor: pointer;
        }

        .smallButton:hover { background: #808080; }

        #settings {
            width: 80vw;
        }


    </style>

</head>

<body>

    <div id="window">
        <div id="screen">
            <div id="wallContainer"></div>
        </div>
    </div>

    <div id="controlls">

        <div id="game">
            <div class="button" id="forward">&#9650;</div>
            <div class="button" id="backward">&#9660;</div>
            
            <div class="button" id="left">&#9664;</div>
            <div class="button" id="right">&#9654;</div>
        
            <!-- <div class="button" id="primary">&#128165;</div>
            <div class="button" id="secondary">&#128163;</div> -->
            <div class="button" id="primary" style="font-size: 6vw;">Fire</div>
            <div class="button" id="secondary" style="font-size: 6vw;">Landmine</div>
        </div>

        <div id="lobby">
            <div class="button" id="a"></div>
            <div class="button" id="b"></div>
            <div class="button" id="c"></div>
        </div>

        <div id="text"></div>

        <div id="topText"></div>
    </div>

    <div id="menuContainer">
    <div id="menu">
        <h1>Tanks</h1>
        by seb-ak

        <form id="joinForm">
            <div id="side">
                name
                <input type="text" name="name" id="name" placeholder="Your Name" required>
                colour
                <input type="text" data-coloris id="colour" required>
            
                <button class="button" type="submit" id="joinButton">Join</button>
            </div>
        </form>

    </div>
    <div id="error"></div>
    </div>

    <div id="settingsContainer">
        <div id="settings">

        </div>
        <div id="settingsControls">
            <input type="file" id="settingsFile" accept=".json" style="display:none">
            <button id="settingsLoad" class="smallButton">Load</button>
            <button id="settingsSave" class="smallButton">Save</button>
            <button id="settingsApply" class="smallButton">Apply</button>
            <button id="settingsCancel" class="smallButton">Cancel</button>
        </div>
        <pre id="settingsText" contenteditable="true" spellcheck="false"></pre>
    </div>

    <script src="index.js"></script>
</body>

</html>
